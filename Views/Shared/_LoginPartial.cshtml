@using Microsoft.AspNet.Identity
@using Project_Sem3.Models

@if (Request.IsAuthenticated)
{
    <link rel="stylesheet" type="text/css" href="~/assets/css/EditProfile.css" />
    KSMTDbContext db = new KSMTDbContext();
    var userId = User.Identity.GetUserId();
    var user = db.AspNetUsers.Find(userId);
    switch (user.AspNetRoles.First().Name)
    {
        case "Admin":
            <li><a href="~/home/index" class="home">Home</a></li>
            <li><a href="~/competitions/index" class="survey">Survey</a></li>
            <li><a href="~/Admin/ListUser" class="member">Member</a></li>
            <li><a href="~/Supports/index" class="support">Support</a></li>
            <li><a href="~/FAQs/index" class="faq">FAQ’s</a></li>
            <li class="dropdown-child"></li>
            <li class="dropdown">
                <a href="#"><ion-icon style="font-size:28px ;padding-right:10px" name="person-circle-outline"></ion-icon> <span> @user.Name</span></a>
                <ul class="dropdown-child">
                    <li><a class="cp-btn-rgt">Edit Profile</a></li>
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                    {
                        @Html.AntiForgeryToken()
                        <li><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                    }

                </ul>
            </li>

            <li class="dropdown-child-mobie"><a class="cp-btn-rgt">Edit Profile</a></li>
            using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
            {
                @Html.AntiForgeryToken()
                <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
            }

            break;
        case "Employee":
            <ul>
                <li><a href="~/home/index" class="home">Home</a></li>
                <li><a href="~/competitions/index" class="survey">Survey</a></li>
                <li><a href="~/Admin/ListUser" class="member">Member</a></li>
                <li><a href="~/Supports/index" class="support">Support</a></li>
                <li><a href="~/FAQs/index" class="faq">FAQ’s</a></li>
                <li class="dropdown">
                    <a href="#"><ion-icon style="font-size:28px" name="person-circle-outline"></ion-icon></a>
                    <ul class="dropdown-child">
                        <li class="dropdown-child-mobie"><a class="cp-btn-rgt">Edit Profile</a></li>
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                        {
                            @Html.AntiForgeryToken()
                            <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                        }

                    </ul>
                </li>
            </ul> break;
        case "Student":
            <ul>
                <li><a href="~/home/index" class="home">Home</a></li>
                <li><a href="~/competitions/index" class="survey">Survey</a></li>
                <li><a href="~/Admin/ListUser" class="member">Member</a></li>
                <li><a href="~/Supports/index" class="support">Support</a></li>
                <li><a href="~/FAQs/index" class="faq">FAQ’s</a></li>
                <li class="dropdown">
                    <a href="#"><ion-icon style="font-size:28px" name="person-circle-outline"></ion-icon></a>
                    <ul class="dropdown-child">
                        <li class="dropdown-child-mobie"><a class="cp-btn-rgt">Edit Profile</a></li>
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                        {
                            @Html.AntiForgeryToken()
                            <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                        }

                    </ul>
                </li>
            </ul> break;
        default:
            <ul>
                <li><a href="~/home/index" class="home">Home</a></li>
                <li><a href="~/competitions/index" class="survey">Survey</a></li>
                <li><a href="~/Admin/ListUser" class="member">Member</a></li>
                <li><a href="~/Supports/index" class="support">Support</a></li>
                <li><a href="~/FAQs/index" class="faq">FAQ’s</a></li>
            </ul>
            break;

    }
    <div class="dialog hidden">
        <div class="modal-o"></div>
        <div class="dialog-body">
            <div class="close-btn">
                &times;
            </div>
            <div class="f-rigister">
                <h2>Edit ProFile</h2>
                <form>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">UserId</label>
                    </div>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">Name</label>
                    </div>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">BirthDate</label>
                    </div>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">phone</label>
                    </div>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">Email</label>
                    </div>
                    <div class="form-group">
                        <input type="text" id="name" required>
                        <label for="name">Sex</label>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="~/assets/js/EditProfile.js"></script>

}
else
{
    <li><a href="~/home/index" class="home">Home</a></li>
    <li><a href="~/competitions/index" class="survey">Survey</a></li>
    <li><a href="~/Admin/ListUser" class="member">Member</a></li>
    <li><a href="~/Supports/index" class="support">Support</a></li>
    <li><a href="~/FAQs/index" class="faq">FAQ’s</a></li>
    <li class="dropdown-child"></li>
    <li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
    <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
}
