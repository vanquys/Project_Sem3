@using Microsoft.AspNet.Identity
@using Project_Sem3.Models

@if (Request.IsAuthenticated)
{

    KSMTDbContext db = new KSMTDbContext();
    var userId = User.Identity.GetUserId();
    var user = db.AspNetUsers.Find(userId);
    switch (user.AspNetRoles.First().Name)
    {
        case "Admin":
            <li><a href="~/Home/index" class="active">Home</a></li>
            <li><a href="~/Home/Index">Survey</a></li>
            <li><a href="~/Admin/ListUser">Member</a></li>
            <li><a href="~/Supports/Index">Support</a></li>
            <li><a href="~/FAQs/Index">FAQ’s</a></li>
            <li class="dropdown">
                <a href="#"><ion-icon style="font-size:28px ;padding-right:10px" name="person-circle-outline"></ion-icon> <span> @user.Name</span></a>
                <ul class="dropdown-child">
                    <li><a href="#">Edit Profile</a></li>
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                    {
                        @Html.AntiForgeryToken()
                        <li><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                    }

                </ul>
            </li>

            <li class="dropdown-child-mobie"><a href="#">Edit Profile</a></li>
            using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
            {
                @Html.AntiForgeryToken()
                <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
            }

            break;
        case "Employee":
            <ul>
                <li>@Html.ActionLink("Home", "Index", "Home", new { @class = "active" })</li>
                <li>@Html.ActionLink("Survey Board", "Index", "Home")</li>
                <li>@Html.ActionLink("Edit Profile", "Index", "Home")</li>
                <li>@Html.ActionLink("Support", "Index", "Home")</li>
                <li>@Html.ActionLink("FAQ’s", "Index", "Home")</li>
                <li class="dropdown">
                    <a href="#"><ion-icon style="font-size:28px" name="person-circle-outline"></ion-icon></a>
                    <ul>
                        <li class="dropdown-child-mobie"><a href="#">Edit Profile</a></li>
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                        {
                            @Html.AntiForgeryToken()
                            <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                        }

                    </ul>
                </li>
            </ul> break;
        case "Student":
            <ul>
                <li>@Html.ActionLink("Home", "Index", "Home", new { @class = "active" })</li>
                <li>@Html.ActionLink("Survey Board", "Index", "Home")</li>
                <li>@Html.ActionLink("Edit Profile", "Index", "Home")</li>
                <li>@Html.ActionLink("Support", "Index", "Home")</li>
                <li>@Html.ActionLink("FAQ’s", "Index", "Home")</li>
                <li class="dropdown">
                    <a href="#"><ion-icon style="font-size:28px" name="person-circle-outline"></ion-icon></a>
                    <ul>
                        <li class="dropdown-child-mobie"><a href="#">Edit Profile</a></li>
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                        {
                            @Html.AntiForgeryToken()
                            <li class="dropdown-child-mobie"><a href="javascript:document.getElementById('logoutForm').submit()">Logout</a></li>
                        }

                    </ul>
                </li>
            </ul> break;
        default:
            <ul>
                <li>@Html.ActionLink("Home", "Index", "Home", new { @class = "active" })</li>
                <li>@Html.ActionLink("Survey Board", "Index", "Home")</li>
                <li>@Html.ActionLink("Edit Profile", "Index", "Home")</li>
                <li>@Html.ActionLink("Support", "Index", "Home")</li>
                <li>@Html.ActionLink("FAQ’s", "Index", "Home")</li>
            </ul>
            break;

    }



}
else
{
    <li>@Html.ActionLink("Home", "Index", "Home", new { @class = "active" })</li>
    <li>@Html.ActionLink("Survey Board", "Index", "Home")</li>
    <li>@Html.ActionLink("Edit Profile", "Index", "Home")</li>
    <li>@Html.ActionLink("Support", "Index", "Home")</li>
    <li>@Html.ActionLink("FAQ’s", "Index", "Home")</li>
    <li></li>
    <li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
    <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
}
